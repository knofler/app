(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{d2e6de1f52755fe8e974:function(e,t,n){"use strict";n.r(t);var o,r=n("8af190b70a6bc55c6f1b"),a=n.n(r),i=(n("8a2d1b95e05b6a321e74"),n("d7dd51e1bf6bfc2c9c3d")),s=n("0d7f0986bcd2f33d8a2a"),c=n("ab039aecd4a1d4fedc0e"),u=n("a28fc3c963a1d4d1a2e5"),l=n("ab4cb61bcb2dc161defb"),A=Object(c.defineMessages)({header:{id:"".concat("app.components.Login",".header"),defaultMessage:"This is the Login component!"}});function T(e){return(T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t,n,r){o||(o="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,i=arguments.length-3;if(t||0===i||(t={children:void 0}),t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});if(1===i)t.children=r;else if(i>1){for(var c=new Array(i),u=0;u<i;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function _(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t){return!t||"object"!==T(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=p("label",{},void 0," Email"),g=p("br",{}),E=p("label",{},void 0,"Password"),b=p("button",{type:"submit"},void 0,"Submit"),m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,h(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(t,a.a.Component),n=t,(o=[{key:"render",value:function(){return p("div",{},void 0,a.a.createElement(c.FormattedMessage,A.header),p("form",{onSubmit:this.props.submitFunc},void 0,d,p("input",{type:"email",name:"email",value:this.props.email,onChange:this.props.setEmail}),g,E,p("input",{type:"password",name:"password",value:this.props.password,onChange:this.props.setPassword}),b))}}])&&_(n.prototype,o),r&&_(n,r),t}(),O=n("adc20f99e57c573c589c"),I=n("d95b0cf107403b178365"),y="app/Auth/DEFAULT_ACTION",N="app/Auth/AUTH_CONST_APIDATA",U="app/Auth/AUTH_CONST_APIDATA_SUCCESS",w="app/Auth/AUTH_CONST_APIDATA_ERROR",v="app/Auth/AUTH_CONST_EMAIL",P="app/Auth/AUTH_CONST_PASSWORD",R="app/Auth/AUTH_CONST_TOKEN",H="app/Auth/Auth_SIGNUP",j="app/Auth/Auth_SIGNUP_SUCCESS",D="app/Auth/Auth_SIGNUP_ERROR",G="app/Auth/Auth_SIGNIN",k="app/Auth/Auth_SIGNIN_SUCCESS",C="app/Auth/AUTH_CONST_SIGNIN_ERR0R";var L=n("54f683fcda7806277002"),x=Object(L.fromJS)({AUTH_STATE_APIDATA:[],AUTH_STATE_APIDATA_LOADING:!1,AUTH_STATE_APIDATA_ERROR:!1,AUTH_STATE_EMAIL:"default@email.com",AUTH_STATE_PASSWORD:"dEfAult_Password",AUTH_STATE_TOKEN:"",AUTH_STATE_SIGNIN_TOKEN:"",AUTH_STATE_SIGNUP_TOKEN:"",AUTH_STATE_SIGNIN_LOADING:!1,AUTH_STATE_SIGNIN_ERROR:!1,AUTH_STATE_SIGNUP_LOADING:!1,AUTH_STATE_SIGNUP_ERROR:!1});var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(console.log("Global reducer file being called"),t.type){case y:return e;case N:return console.log("in AUTH_CONST_APIDATA action: ",t),e.set("AUTH_STATE_APIDATA_LOADING",!0).set("AUTH_STATE_APIDATA_ERROR",!1);case w:return e.set("AUTH_STATE_APIDATA_LOADING",!1).set("AUTH_STATE_APIDATA_ERROR",t.error);case U:return console.log("In AUTH_CONST_APIDATA_SUCCESS reducer, action",t.apiData),e.set("AUTH_STATE_APIDATA_LOADING",!0).set("AUTH_STATE_APIDATA_ERROR",!1).set("AUTH_STATE_APIDATA",t.apiData);case v:return console.log("In AUTH_CONST_EMAIL action in reducer, value assigned to Auth_email state",t.authEmail),e.set("AUTH_STATE_EMAIL",t.authEmail).set("AUTH_STATE_SIGNIN_ERROR",!1);case P:return console.log("In AUTH_CONST_PASSWORD action",t.authPassword),e.set("AUTH_STATE_PASSWORD",t.authPassword).set("AUTH_STATE_SIGNIN_ERROR",!1);case R:return console.log("In AUTH_CONST_TOKEN action.authToken",t.authToken),e.set("AUTH_STATE_TOKEN",t.authToken).set("AUTH_STATE_SIGNIN_ERROR",!1);case G:return console.log("In AUTH_CONST_SIGNIN action Auth Email is : ",t.authEmail,"and Auth Password is ",t.authPassword),e.set("AUTH_STATE_SIGNIN_LOADING",!0).set("AUTH_STATE_SIGNIN_ERROR",!1);case C:return e.set("AUTH_STATE_SIGNIN_LOADING",!1).set("AUTH_STATE_SIGNIN_ERROR",t.signinError);case k:return console.log("In AUTH_CONST_SIGNIN_SUCCESS reducer, action.signinAuthToken",t.signinAuthToken),e.set("AUTH_STATE_SIGNIN_LOADING",!1).set("AUTH_STATE_SIGNIN_ERROR",!1).set("AUTH_STATE_SIGNIN_TOKEN",t.signinAuthToken).set("AUTH_STATE_EMAIL",t.authEmail).set("AUTH_STATE_PASSWORD",t.authPassword);case H:return console.log("In AUTH_CONST_SIGNUP action Auth Email is : ",t.authEmail,"and Auth Password is ",t.authPassword),e.set("AUTH_STATE_SIGNUP_LOADING",!0).set("AUTH_STATE_SIGNUP_ERROR",!1);case D:return e.set("AUTH_STATE_SIGNUP_LOADING",!1).set("AUTH_STATE_SIGNUP_ERROR",t.signupError);case j:return console.log("In AUTH_CONST_SIGNUP_SUCCESS reducer, action.signupAuthToken",t.signupAuthToken),e.set("AUTH_STATE_SIGNUP_LOADING",!1).set("AUTH_STATE_SIGNUP_ERROR",!1).set("AUTH_STATE_SIGNUP_TOKEN",t.signupAuthToken).set("AUTH_STATE_EMAIL",t.authEmail).set("AUTH_STATE_PASSWORD",t.authPassword);default:return e}},K=function(e){return e.get("auth",x)},W=n("6c68d13fe9e3e77d8fc4"),J=regeneratorRuntime.mark(X),F=regeneratorRuntime.mark(Y),$=regeneratorRuntime.mark(Z),B=regeneratorRuntime.mark(ee),V=regeneratorRuntime.mark(te),q=regeneratorRuntime.mark(ne),z=regeneratorRuntime.mark(oe),Q=(Object({NODE_ENV:"production"}).API_URL||"https://aframework-api.herokuapp.com")+"/signin";function X(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.e)(N,ee);case 2:case"end":return e.stop()}},J,this)}function Y(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.e)(G,te);case 2:case"end":return e.stop()}},F,this)}function Z(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.e)(H,ne);case 2:case"end":return e.stop()}},$,this)}function ee(e){var t,n;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,console.log("AUTH_CONST_APIDATA constant's action :: ",e),o.next=4,Object(W.b)(fetch,Q);case 4:return t=o.sent,o.next=7,t.json();case 7:return n=o.sent,console.log("responseBody of AUTH_CONST_APIDATA in saga is",n),o.next=11,Object(W.c)((a=n,console.log("payload received from API yeild in authActionApiData function in action is",a),{type:U,apiData:a}));case 11:o.next=17;break;case 13:return o.prev=13,o.t0=o.catch(0),o.next=17,Object(W.c)((r=o.t0,{type:w,error:r}));case 17:case"end":return o.stop()}var r,a},B,this,[[0,13]])}function te(e){var t,n;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return console.log("action in fetchAuthSignin is :",e),console.log("Email in fetchAuthSignin is :",e.authEmail.email),console.log("Password in fetchAuthSignin is :",e.authPassword.password),o.prev=3,o.next=6,Object(W.b)(fetch,Q,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e.authEmail.email,password:e.authPassword.password})});case 6:return t=o.sent,o.next=9,t.json();case 9:return n=o.sent,console.log("responseBody of AUTH_CONST_SIGNIN in saga is",n),window.localStorage.setItem("react-jwt",JSON.stringify(n.token)),o.next=14,Object(W.c)({type:k,signinAuthToken:n});case 14:o.next=20;break;case 16:return o.prev=16,o.t0=o.catch(3),o.next=20,Object(W.c)((r=o.t0,{type:C,signinError:r}));case 20:case"end":return o.stop()}var r},V,this,[[3,16]])}function ne(e){var t,n;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return console.log("action in fetchAuthSignup is :",e),console.log("Email in fetchAuthSignup is :",e.authEmail.email),console.log("Password in fetchAuthSignup is :",e.authPassword.password),o.prev=3,o.next=6,Object(W.b)(fetch,Q);case 6:return t=o.sent,o.next=9,t.json();case 9:return n=o.sent,console.log("responseBody of AUTH_CONST_SIGNUP in saga is",n),o.next=13,Object(W.c)({type:j,signupAuthToken:n});case 13:o.next=19;break;case 15:return o.prev=15,o.t0=o.catch(3),o.next=19,Object(W.c)((r=o.t0,{type:D,signupError:r}));case 19:case"end":return o.stop()}var r},q,this,[[3,15]])}function oe(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)([X(),Y(),Z()]);case 2:case"end":return e.stop()}},z,this)}console.log("process.env.API_URL",Object({NODE_ENV:"production"}).API_URL),console.log("herokuAPIURL is","https://aframework-api.herokuapp.com"),console.log("url is ",Q),setTimeout(function(){console.log("Access from LocalStorage",JSON.parse(window.localStorage.getItem("react-jwt")))},10);var re,ae=Object(c.defineMessages)({header:{id:"".concat("app.containers.Auth",".header"),defaultMessage:"This is the Auth container!"}});function ie(e){return(ie="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t,n,o){re||(re="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var r=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&r)for(var i in r)void 0===t[i]&&(t[i]=r[i]);else t||(t=r||{});if(1===a)t.children=o;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}return{$$typeof:re,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function le(e,t){return!t||"object"!==ie(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ae(e){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Te(e,t){return(Te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"Auth",function(){return _e});var pe=se(s.Helmet,{},void 0,se("title",{},void 0,"Auth"),se("meta",{name:"description",content:"Description of Auth"})),_e=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),le(this,Ae(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Te(e,t)}(t,a.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){}},{key:"setEmailState",value:function(e){e.preventDefault(),this.props.AuthSetEmail(ce({},e.target.name,e.target.value)),console.log("change value in auth ",e.target.value),console.log("change name in auth ",e.target.name)}},{key:"setPasswordState",value:function(e){e.preventDefault(),this.props.AuthSetPassword(ce({},e.target.name,e.target.value)),console.log("change value in auth ",e.target.value),console.log("change name in auth ",e.target.name)}},{key:"submit",value:function(e){e.preventDefault(),this.props.AuthLogin(this.props.email_auth,this.props.password_auth),console.log("saga called")}},{key:"render",value:function(){var e=this;!function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){ce(e,t,n[t])})}}({},this.props.AuthToken);return se("div",{},void 0,pe,a.a.createElement(c.FormattedMessage,ae.header),se(m,{setEmail:function(t){return e.setEmailState(t)},setPassword:function(t){return e.setPasswordState(t)},submitFunc:function(t){return e.submit(t)}}))}}])&&ue(n.prototype,o),r&&ue(n,r),t}(),fe=Object(u.b)({email_auth:Object(u.a)(K,function(e){return console.log("Email selector picks state change from the initial state to current value",e.get("AUTH_STATE_EMAIL")),e.get("AUTH_STATE_EMAIL")}),password_auth:Object(u.a)(K,function(e){return console.log("Password selector",e.get("AUTH_STATE_PASSWORD")),e.get("AUTH_STATE_PASSWORD")}),login_Auth:Object(u.a)(K,function(e){return console.log("AuthSignin selector",e.get("AUTH_STATE_SIGNIN_TOKEN")),e.get("AUTH_STATE_SIGNIN_TOKEN")})});var he=Object(i.connect)(fe,function(e){return{AuthLogin:function(t,n){return e(function(e,t){return console.log("authActionSignin action being called with",e,"and",t),{type:G,authEmail:e,authPassword:t}}(t,n))},AuthSetEmail:function(t){return e(function(e){return console.log("authActionSetEmail action being called with",e),{type:v,authEmail:e}}(t))},AuthSetPassword:function(t){return e(function(e){return console.log("authActionSetPassword action being called with",e),{type:P,authPassword:e}}(t))}}}),Se=Object(I.a)({key:"auth",reducer:M}),de=Object(O.a)({key:"auth",saga:oe});t.default=Object(l.compose)(Se,de,he)(_e)}}]);